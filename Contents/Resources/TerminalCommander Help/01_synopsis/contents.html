<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">

  <!-- InstanceBegin template="../../../../_Templates/Help_Contetns_enTitle.dwt" -->

    <head>
      <meta http-equiv="content-type" content="text/html;charset=utf-8" />
      <title>Synopsis</title>
      <meta name="keywords" content="TerminalCommander, HelpBook OSAX, SmartActivate, ModuleLoader" />
      <!-- #BeginHeadLocked "" -->
        <link href="../04_history/assets/default2.css" type="text/css" rel="styleSheet" />
        <link href="../04_history/assets/help.css" type="text/css" rel="stylesheet" media="screen" />
        <script type="text/javascript" language="JavaScript1.4" src="../04_history/assets/SmartHeader.js"></script>
      <!-- #EndHeadLocked -->
      <link href="../04_history/assets/AppleScript.css" type="text/css" rel="styleSheet" />
    </head>

    <body>
      <p id="smartheader" style="visibility:hidden"><!-- InstanceBeginEditable name="SmartHeader" --><a href="index.html">TerminalCommander Help</a> <!-- InstanceEndEditable --></p>
      <!-- InstanceBeginEditable name="Body" -->
        <h1>Synopsis</h1>
        <h2><a id="what" name="what"></a>What ?</h2>
        <p>ターミナルでのシェルコマンドの実行を支援するモジュールです。ターミナルでのシェルコマンドは 「do script」 コマンド で簡単に実行できますが、以下のような、さらに複雑な処理を行いたいときにこのスクリプトはお役に立てるでしょう。</p>
        <ul>
          <li>シェルコマンドを実行するターミナルの設定を細かく制御したい。
            <ul>
              <li>タイトル</li>
              <li>ウィンドウの色設定</li>
              <li>設定セット</li>
            </ul>
          </li>
          <li>シェルコマンドの終了を待ってから、次の処理に移りたい。</li>
          <li>ターミナルウィンドウを追跡して、同じターミナルで何度もシェルコマンドを実行したい。
            <ul>
              <li>TerminalCommander　のインスタンスは、開いたターミナルを記録しており、二回目以降の do_command の実行時に使用されます。</li>
              <li>ターミナルへの参照が記録されていない、もしくは見つからない場合でも、 インスタンスに設定されたカスタムタイトル（see <a href="../02_commander_reference/pages/set_custom_title.html">set_custom_title</a>）と同じカスタムタイトルのターミナルウィンドウを探します。したがって、 でカスタムタイトルを適切に設定すれば、スクリプトが一度終了してもターミナルウィンドウを追跡する事ができます。</li>
            </ul>
          </li>
        </ul>
        <h2><a id="basic_usage" name="basic_usage"></a>Basic Usage</h2>
        <p>TerminalCommander の基本的な使い方は、次のような手順になります。</p>
        <ol>
          <li>make もしくは、make_with_title, make_with_setting メソッドでインスタンスを生成します。</li>
          <li>インスタンスに対して、タイトルなどの属性を設定します。</li>
          <li>do_command でシェルコマンドを実行します。</li>
          <li>必要があれば、wait_termination でコマンドの終了を待ちます。</li>
          <li>do_command で再びコマンドを実行します。</li>
        </ol>
        <div class="sourceCode">
<div>
<span class="langKeyword">property</span> <span class="userDefine">TerminalCommander</span> <span class="normal">:</span> <span class="appKeyword">module</span>
</div>
<br />
<div>
<span class="appKeyword">boot</span> <span class="normal">(</span><span class="appKeyword">module loader</span><span class="normal">)</span> <span class="appKeyword">for</span> <span class="langKeyword">me</span>
</div>
<br />
<div>
<span class="langKeyword">try</span>
</div>
<div style="text-indent:4ex;">
<span class="langKeyword">get</span> <span class="userDefine">a_commander</span>
</div>
<div>
<span class="langKeyword">on</span> <span class="langKeyword">error</span>
</div>
<div style="text-indent:4ex;">
<span class="langKeyword">set</span> <span class="userDefine">a_commander</span> <span class="langKeyword">to</span> <span class="userDefine">TerminalCommander</span><span class="normal">'s</span> <span class="userDefine">make_with_settings</span><span class="normal">(&quot;Ocean&quot;)</span>
</div>
<div>
<span class="langKeyword">end</span> <span class="langKeyword">try</span>
</div>
<br />
<div>
<span class="langKeyword">tell</span> <span class="userDefine">a_commander</span>
</div>
<div style="text-indent:4ex;">
<span class="userDefine">set_custom_title</span><span class="normal">(&quot;* Sample Terminal *&quot;)</span>
</div>
<div style="text-indent:4ex;">
<span class="userDefine">set_execution_string</span><span class="normal">(&quot;echo 'This is a new terminal.'&quot;)</span>
</div>
<div style="text-indent:4ex;">
<span class="userDefine">do_command</span> <span class="appKeyword">for</span> <span class="normal">&quot;ls -l&quot;</span> <span class="langKeyword">with</span> <span class="userDefine">activation</span>
</div>
<div style="text-indent:4ex;">
<span class="userDefine">wait_termination</span><span class="normal">(300)</span>
</div>
<div style="text-indent:4ex;">
<span class="userDefine">do_command</span> <span class="appKeyword">for</span> <span class="normal">&quot;echo 'You can execute command in the same terminal'&quot;</span> <span class="langKeyword">without</span> <span class="userDefine">activation</span>
</div>
<div style="text-indent:4ex;">
<span class="normal">--</span><span class="comment">bring_to_front()</span>
</div>
<div>
<span class="langKeyword">end</span> <span class="langKeyword">tell</span>
</div>
<div class="scriptButton" >
<input type="button" value="Basic Sampe" onclick="location.href='applescript://com.apple.scripteditor?action=new%26script=property%20TerminalCommander%20:%20module%0D%0Dboot%20(module%20loader)%20for%20me%0D%0Dtry%0D%09get%20a_commander%0Don%20error%0D%09set%20a_commander%20to%20TerminalCommander%27s%20make_with_settings(%22Ocean%22)%0Dend%20try%0D%0Dtell%20a_commander%0D%09set_custom_title(%22*%20Sample%20Terminal%20*%22)%0D%09set_execution_string(%22echo%20%27This%20is%20a%20new%20terminal.%27%22)%0D%09do_command%20for%20%22ls%20-l%22%20with%20activation%0D%09wait_termination(300)%0D%09do_command%20for%20%22echo%20%27You%20can%20execute%20command%20in%20the%20same%20terminal%27%22%20without%20activation%0D%09--bring_to_front()%0Dend%20tell'" />
</div>
</div>
        <h2><a id="setting_colors" name="setting_colors"></a>Setting Terminal Colors</h2>
        <p>ターミナルの色に関する設定を行うには、TerminalColors モジュールを使用します。</p>
        <ol>
          <li>make メソッドで TerminalColors のインスタンスを生成します。</li>
          <li>インスタンスに対して、色設定を行います。</li>
          <li>カスタマイズした TerminalColors のインスタンスを TerminalCommander のインスタンスに設定します。</li>
          <li>TerminalCommander のインスタンスで do_command を実行すると新規ターミナルウィンドウで色設定が反映されます。</li>
          <li>すでに、ターミナルウィンドウが開かれているときは、TerminalColors のインスタンスメソッド apply に TerminalCommander のインスタンスを渡します。
            
            </li>
        </ol>
        <div class="sourceCode">
<div>
<span class="langKeyword">property</span> <span class="userDefine">TerminalCommander</span> <span class="normal">:</span> <span class="appKeyword">module</span>
</div>
<div>
<span class="langKeyword">property</span> <span class="userDefine">TerminalColors</span> <span class="normal">:</span> <span class="appKeyword">module</span>
</div>
<br />
<div>
<span class="appKeyword">boot</span> <span class="normal">(</span><span class="appKeyword">module loader</span><span class="normal">)</span> <span class="appKeyword">for</span> <span class="langKeyword">me</span>
</div>
<br />
<div>
<span class="langKeyword">set</span> <span class="userDefine">term_colors</span> <span class="langKeyword">to</span> <span class="appKeyword">make</span> <span class="userDefine">TerminalColors</span>
</div>
<div>
<span class="langKeyword">tell</span> <span class="userDefine">term_colors</span>
</div>
<div style="text-indent:4ex;">
<span class="userDefine">set_background</span><span class="normal">({65535,</span> <span class="normal">0,</span> <span class="normal">0},</span> <span class="normal">20000,</span> <span class="appKeyword">true</span><span class="normal">)</span> <span class="normal">--</span><span class="comment">　Background color</span>
</div>
<div style="text-indent:4ex;">
<span class="userDefine">set_normal_text</span><span class="normal">({0,</span> <span class="normal">0,</span> <span class="normal">65535},</span> <span class="appKeyword">true</span><span class="normal">)</span> <span class="normal">--</span><span class="comment"> Normal Text Color</span>
</div>
<div>
<span class="langKeyword">end</span> <span class="langKeyword">tell</span>
</div>
<br />
<div>
<span class="langKeyword">set</span> <span class="userDefine">a_commander</span> <span class="langKeyword">to</span> <span class="userDefine">TerminalCommander</span><span class="normal">'s</span> <span class="userDefine">make_with_title</span><span class="normal">(&quot;* Crazy Terminal *&quot;)</span>
</div>
<div>
<span class="langKeyword">tell</span> <span class="userDefine">a_commander</span>
</div>
<div style="text-indent:4ex;">
<span class="userDefine">set_colors</span><span class="normal">(</span><span class="userDefine">term_colors</span><span class="normal">)</span>
</div>
<div style="text-indent:4ex;">
<span class="userDefine">do_command</span> <span class="appKeyword">for</span> <span class="normal">&quot;ls -l&quot;</span> <span class="langKeyword">with</span> <span class="userDefine">activation</span>
</div>
<div>
<span class="langKeyword">end</span> <span class="langKeyword">tell</span>
</div>
<br />
<div>
<span class="normal">(*</span><span class="comment"> Changing Colors of already opend terminal window </span><span class="normal">*)</span>
</div>
<div>
<span class="langKeyword">tell</span> <span class="userDefine">term_colors</span>
</div>
<div style="text-indent:4ex;">
<span class="userDefine">set_normal_text</span><span class="normal">({0,</span> <span class="normal">65535,</span> <span class="normal">0},</span> <span class="appKeyword">true</span><span class="normal">)</span>
</div>
<div style="text-indent:4ex;">
<span class="userDefine">set_cursor</span><span class="normal">({0,</span> <span class="normal">0,</span> <span class="normal">65535},</span> <span class="appKeyword">true</span><span class="normal">)</span>
</div>
<div style="text-indent:4ex;">
<span class="userDefine">set_bold_text</span><span class="normal">({65535,</span> <span class="normal">65535,</span> <span class="normal">65535},</span> <span class="appKeyword">true</span><span class="normal">)</span>
</div>
<div style="text-indent:4ex;">
<span class="userDefine">apply</span><span class="normal">(</span><span class="userDefine">a_commander</span><span class="normal">)</span>
</div>
<div>
<span class="langKeyword">end</span> <span class="langKeyword">tell</span>
</div>
<div class="scriptButton" >
<input type="button" value="colors-sample" onclick="location.href='applescript://com.apple.scripteditor?action=new%26script=property%20TerminalCommander%20:%20module%0Dproperty%20TerminalColors%20:%20module%0D%0Dboot%20(module%20loader)%20for%20me%0D%0Dset%20term_colors%20to%20make%20TerminalColors%0Dtell%20term_colors%0D%09set_background(%7B65535,%200,%200%7D,%2020000,%20true)%20--%E3%80%80Background%20color%0D%09set_normal_text(%7B0,%200,%2065535%7D,%20true)%20--%20Normal%20Text%20Color%0Dend%20tell%0D%0Dset%20a_commander%20to%20TerminalCommander%27s%20make_with_title(%22*%20Crazy%20Terminal%20*%22)%0Dtell%20a_commander%0D%09set_colors(term_colors)%0D%09do_command%20for%20%22ls%20-l%22%20with%20activation%0Dend%20tell%0D%0D(*%20Changing%20Colors%20of%20already%20opend%20terminal%20window%20*)%0Dtell%20term_colors%0D%09set_normal_text(%7B0,%2065535,%200%7D,%20true)%0D%09set_cursor(%7B0,%200,%2065535%7D,%20true)%0D%09set_bold_text(%7B65535,%2065535,%2065535%7D,%20true)%0D%09apply(a_commander)%0Dend%20tell'" />
</div>
</div>
        <p class="figure"><img src="assets/crazyterminal.png" alt="" width="614" height="423" border="0" /></p>
      <!-- InstanceEndEditable -->
      <div class="footer">
        <p>This page was last built on <csobj format="MedDate" h="12" region="0" t="DateTime" w="84">Wed, Apr 21, 2010</csobj> ; <csobj format="LongTime" h="12" region="0" t="DateTime" w="57">12:07:28 PM</csobj> . Thanks for checking it out!</p>
      </div>
    </body>

  <!-- InstanceEnd -->

</html>